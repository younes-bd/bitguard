/* ==============================================================================
   ERP MODULE STYLES
   ============================================================================== */

/* Avatar & Profile */
/* Avatar & Profile */
.user-avatar-small {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #f1f5f9;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}

/* ==============================================================================
   TAILWIND COMPATIBILITY LAYER
   ============================================================================== */

/* GRID SYSTEM */
.grid {
    display: grid;
}

.grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
}

.grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

.grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
}

.gap-4 {
    gap: 1rem;
}

.gap-6 {
    gap: 1.5rem;
}

@media (min-width: 768px) {
    .md\:grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .md\:grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .md\:col-span-2 {
        grid-column: span 2 / span 2;
    }
}

/* SPACING (Padding/Margin) */
.p-0 {
    padding: 0;
}

.p-3 {
    padding: 0.75rem;
}

.p-4 {
    padding: 1rem;
}

.p-5 {
    padding: 1.25rem;
}

.p-6 {
    padding: 1.5rem;
}

.p-8 {
    padding: 2rem;
}

.py-0\.5 {
    padding-top: 0.125rem;
    padding-bottom: 0.125rem;
}

.py-1 {
    padding-top: 0.25rem;
    padding-bottom: 0.25rem;
}

.py-3 {
    padding-top: 0.75rem;
    padding-bottom: 0.75rem;
}

.py-4 {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

.px-2 {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
}

.px-8 {
    padding-left: 2rem;
    padding-right: 2rem;
}

.pl-6 {
    padding-left: 1.5rem;
}

.pb-4 {
    padding-bottom: 1rem;
}

.pt-6 {
    padding-top: 1.5rem;
}

.mt-1 {
    margin-top: 0.25rem;
}

.mt-6 {
    margin-top: 1.5rem;
}

.mb-2 {
    margin-bottom: 0.5rem;
}

.mb-4 {
    margin-bottom: 1rem;
}

.mb-6 {
    margin-bottom: 1.5rem;
}

.mr-1 {
    margin-right: 0.25rem;
}

.mr-2 {
    margin-right: 0.5rem;
}

.mr-3 {
    margin-right: 0.75rem;
}

.space-y-4>*+* {
    margin-top: 1rem;
}

.space-y-6>*+* {
    margin-top: 1.5rem;
}

/* BORDERS */
.border-b {
    border-bottom-width: 1px;
}

.border-t {
    border-top-width: 1px;
}

.border-l-4 {
    border-left-width: 4px;
}

.border-gray-100 {
    border-color: #f3f4f6;
}

.border-red-500 {
    border-color: #ef4444;
}

.border-orange-500 {
    border-color: #f97316;
}

.border-yellow-500 {
    border-color: #eab308;
}

.border-green-500 {
    border-color: #22c55e;
}

.border-blue-500 {
    border-color: #3b82f6;
}

.border-purple-500 {
    border-color: #a855f7;
}

/* TEXT COLORS (Additional) */
.text-xs {
    font-size: 0.75rem;
    line-height: 1rem;
}

.text-sm {
    font-size: 0.875rem;
    line-height: 1.25rem;
}

.text-xl {
    font-size: 1.25rem;
    line-height: 1.75rem;
}

.text-2xl {
    font-size: 1.5rem;
    line-height: 2rem;
}

.text-3xl {
    font-size: 1.875rem;
    line-height: 2.25rem;
}

.text-gray-400 {
    color: #9ca3af;
}

.text-gray-500 {
    color: #6b7280;
}

.text-gray-600 {
    color: #4b5563;
}

.text-orange-500 {
    color: #f97316;
}

.text-orange-600 {
    color: #ea580c;
}

.text-yellow-600 {
    color: #ca8a04;
}

.text-green-600 {
    color: #16a34a;
}

.text-green-700 {
    color: #15803d;
}

.text-blue-600 {
    color: #2563eb;
}

.text-blue-700 {
    color: #1d4ed8;
}

.text-purple-600 {
    color: #9333ea;
}

.text-red-600 {
    color: #dc2626;
}

.text-red-700 {
    color: #b91c1c;
}

/* BACKGROUNDS */
.bg-white {
    background-color: #ffffff;
}

.bg-gray-50 {
    background-color: #f9fafb;
}

.bg-gray-100 {
    background-color: #f3f4f6;
}

.bg-gray-200 {
    background-color: #e5e7eb;
}

.bg-blue-50 {
    background-color: #eff6ff;
}

.bg-yellow-50 {
    background-color: #fefce8;
}

.bg-red-50 {
    background-color: #fef2f2;
}

/* FLEX UTILS */
.flex-1 {
    flex: 1 1 0%;
}

.justify-center {
    justify-content: center;
}

.justify-end {
    justify-content: flex-end;
}

.items-center {
    align-items: center;
}

.w-full {
    width: 100%;
}

.w-6 {
    width: 1.5rem;
}

.w-8 {
    width: 2rem;
}

.w-10 {
    width: 2.5rem;
}

.h-6 {
    height: 1.5rem;
}

.h-8 {
    height: 2rem;
}

.h-10 {
    height: 2.5rem;
}

.rounded {
    border-radius: 0.25rem;
}

.rounded-full {
    border-radius: 9999px;
}

.rounded-xl {
    border-radius: 0.75rem;
}

.shadow-sm {
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.uppercase {
    text-transform: uppercase;
}

.tracking-wide {
    letter-spacing: 0.025em;
}

.tracking-wider {
    letter-spacing: 0.05em;
}

.font-bold {
    font-weight: 700;
}

.font-mono {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.hidden {
    display: none;
}

/* Dark Mode Overrides for these utils */
html.dark .bg-slate-800 {
    background-color: #1e293b;
}

html.dark .border-gray-700 {
    border-color: #374151;
}

html.dark .text-gray-400 {
    color: #9ca3af;
}

.text-subtle {
    font-weight: normal;
}

.member-row-inline {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

/* Progress Bars */
.progress-wrapper {
    display: flex;
    align-items: center;
    gap: 8px;
}

.progress-track {
    width: 100px;
    height: 6px;
    background-color: #f3f4f6;
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    transition: width 0.3s ease;
}

/* Status variants for progress bars */
.progress-fill.fill-green {
    background-color: #22c55e;
}

.progress-fill.fill-yellow {
    background-color: #eab308;
}

.progress-fill.fill-red {
    background-color: #ef4444;
}

/* Dark Mode Overrides */
html.dark .user-avatar-small {
    background: #374151;
    color: #e5e7eb;
}

html.dark .progress-track {
    background-color: #374151;
}

/* Base Template Styles (Refactoring Inline Styles) */
.sidebar-brand-link {
    display: flex;
    align-items: center;
    gap: 12px;
    color: inherit;
    text-decoration: none;
    transition: all 0.3s ease;
}

.sidebar-logo-img {
    height: 30px;
    filter: brightness(0) invert(1);
}

.sidebar-brand-text {
    color: white;
    font-size: 24px;
    font-weight: 600;
    font-family: 'Oswald', sans-serif;
    letter-spacing: 2px;
    transform: scaleY(1.4);
    display: inline-block;
    margin-top: -4px;
    transition: opacity 0.3s ease;
}

.nav-section-label {
    padding: 15px 20px 5px;
    font-size: 0.75rem;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;
    transition: opacity 0.3s ease;
}

.sidebar-nav {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: thin;
    /* Firefox */
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

/* Chrome/Safari Scrollbar */
.sidebar-nav::-webkit-scrollbar {
    width: 4px;
}

.sidebar-nav::-webkit-scrollbar-track {
    background: transparent;
}

.sidebar-nav::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
}

.sidebar-footer-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.user-avatar-wrapper {
    margin-right: 12px;
    flex-shrink: 0;
}

.user-info-wrapper {
    flex: 1;
    overflow: hidden;
    transition: opacity 0.3s ease;
    white-space: nowrap;
}

.user-name-display {
    color: white;
    font-weight: 600;
    font-size: 14px;
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.user-profile-link {
    color: rgba(255, 255, 255, 0.5);
    font-size: 11px;
    display: block;
}

.sidebar-toggle-btn {
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 8px;
    margin-right: 15px;
    border-radius: 8px;
    transition: background 0.2s;
}

.header-platform-label {
    margin-right: auto;
    font-family: 'Oswald', sans-serif;
    font-size: 20px;
    font-weight: 500;
    color: var(--text-primary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.header-right-container {
    display: flex;
    align-items: center;
    gap: 15px;
}

/* ==============================================================================
   COMPONENT ALIASES (Match Platform Theme)
   ============================================================================== */

/* Map ERP .card to Platform .cyber-card */
.card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: transform 0.2s, box-shadow 0.2s;
    margin-bottom: 24px;
    /* Ensure spacing */
}

.card:hover {
    border-color: rgba(14, 165, 233, 0.3);
    box-shadow: 0 0 15px rgba(14, 165, 233, 0.1);
}

/* Ensure header text inside cards looks right */
.card h2,
.card h3,
.card h4 {
    color: var(--text-primary);
    margin-top: 0;
}

/* BUTTONS (Missing from Platform CSS) */
.btn-primary {
    background-color: var(--accent-blue);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.875rem;
}

.btn-primary:hover {
    background-color: #0284c7;
    /* darker blue */
    box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.4);
}

.btn-secondary {
    background-color: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-secondary);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.875rem;
}

.btn-secondary:hover {
    background-color: var(--bg-gray-100);
    color: var(--text-primary);
    border-color: var(--text-secondary);
}

html.dark .btn-secondary:hover {
    background-color: rgba(255, 255, 255, 0.05);
    color: white;
    border-color: white;
}

/* FORMS & INPUTS (Enforce Platform Look) */
.form-control,
input[type="text"],
input[type="search"],
input[type="number"],
select,
textarea {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    color: var(--text-primary) !important;
    border-radius: 8px;
    padding: 0.5rem 1rem;
    outline: none;
    transition: all 0.2s;
}

.form-control:focus,
input:focus,
select:focus,
textarea:focus {
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}


.theme-toggle-btn {
    background: transparent;
    border: 1px solid #e5e7eb;
    padding: 6px 10px;
    border-radius: 8px;
    cursor: pointer;
    color: #64748b;
}

.header-highlight-btn {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 2px 4px rgba(16, 185, 129, 0.2);
}

/* ==============================================================================
   USER DROPDOWN (Platform Match)
   ============================================================================== */
.user-profile-container {
    position: relative;
    /* Essential for popup menu positioning */
    display: block;
    padding: 0;
    margin-top: auto;
    /* Pushes profile to bottom */
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 15px;
}

#sidebarUserMenu {
    display: flex;
    align-items: center;
    padding: 6px 20px;
    width: 100%;
    cursor: pointer;
    transition: all 0.2s;
}

#sidebarUserMenu:hover {
    background: rgba(255, 255, 255, 0.1);
}

.user-profile-container:hover {
    background: transparent;
    /* Handled by #sidebarUserMenu */
}

.erp-user-dropdown {
    display: none;
    position: absolute;
    bottom: 110%;
    /* Open upwards */
    left: 0;
    right: 0;
    width: 260px;
    /* Slightly wider */
    background: #0f172a;
    /* Platform Dark BG */
    border: 1px solid #334155;
    /* Platform Border */
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    /* Platform Deep Shadow */
    z-index: 1000;
    overflow: hidden;
    padding: 8px;
    /* Platform Padding */
    margin-bottom: 8px;
}

.erp-user-dropdown.show {
    display: block;
    animation: slideUpFade 0.2s ease-out;
}

@keyframes slideUpFade {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.erp-dropdown-header {
    padding: 10px 12px;
    margin-bottom: 8px;
    border-bottom: 1px solid #334155;
    background: transparent;
}

.erp-dropdown-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    color: #e2e8f0;
    /* Light Text */
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.1s;
}

.erp-dropdown-item i {
    width: 20px;
    text-align: center;
    color: #94a3b8;
    /* Muted Icon */
}

.erp-dropdown-item:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #38bdf8;
    /* Platform Blue on Hover */
}

.erp-dropdown-item:hover i {
    color: #38bdf8;
}

.erp-dropdown-divider {
    height: 1px;
    background: #334155;
    margin: 4px 0;
}


/* ==============================================================================
   COLLAPSED SIDEBAR STATES
   ============================================================================== */
body.sidebar-collapsed .nav-section-label {
    display: none;
}

body.sidebar-collapsed .sidebar-brand-text {
    display: none;
}

body.sidebar-collapsed .user-info-wrapper {
    display: none;
}

body.sidebar-collapsed .sidebar-brand-link {
    justify-content: center;
    padding: 0;
}

body.sidebar-collapsed .user-profile-container {
    justify-content: center !important;
    padding: 0 !important;
    width: 100%;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

body.sidebar-collapsed #sidebarUserMenu {
    justify-content: center !important;
    padding: 6px 0 !important;
}

body.sidebar-collapsed .user-avatar-wrapper {
    margin-right: 0 !important;
    margin: 0 !important;
}

body.sidebar-collapsed .dashboard-sidebar-link {
    justify-content: center;
    padding: 10px;
}

body.sidebar-collapsed .dashboard-sidebar-link span {
    display: none;
}

body.sidebar-collapsed .dashboard-sidebar-link i {
    margin-right: 0;
    font-size: 1.2rem;
}

/* Collapsed Dropdown Adjustment - Platform Style Pop-out */
body.sidebar-collapsed .erp-user-dropdown {
    width: 260px;
    left: 100%;
    /* Position to the right of the sidebar */
    bottom: 0;
    margin-left: 12px;
    /* Gap from sidebar */
    margin-bottom: 0;
    /* Ensure it doesn't animate weirdly from bottom in this mode */
    margin-bottom: 0;
    /* Ensure it doesn't animate weirdly from bottom in this mode */
    transform-origin: bottom left;
}

/* ==============================================================================
   DASHBOARD GRID SYSTEMS
   ============================================================================== */
.grid-4 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
}

.main-grid {
    display: flex;
    gap: 20px;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .grid-4 {
        grid-template-columns: repeat(2, 1fr);
    }

    .main-grid {
        flex-direction: column;
    }
}

@media (max-width: 768px) {
    .grid-4 {
        grid-template-columns: 1fr;
    }
}

/* List Item Styling for Breakdown */
.breakdown-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px;
    border-radius: 8px;
    background-color: #f8fafc;
    /* Light mode default */
    border: 1px solid transparent;
}

html.dark .breakdown-item {
    background-color: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

/* ==============================================================================
   FORM ELEMENTS (.form-input)
   ============================================================================== */
.form-input {
    width: 100%;
    padding: 0.625rem 0.875rem;
    background-color: #ffffff;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;
    color: #1e293b;
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: all 0.2s ease;
}

.form-input:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.form-input::placeholder {
    color: #94a3b8;
}

/* Dark Mode for Forms */
html.dark .form-input {
    background-color: #1e293b;
    border-color: #334155;
    color: #f8fafc;
}

html.dark .form-input:focus {
    border-color: #60a5fa;
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15);
}

html.dark .form-input::placeholder {
    color: #64748b;
}

/* Select Element Specifics */
select.form-input {
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
}

html.dark select.form-input {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
}

/* ==============================================================================
   BUTTONS
   ============================================================================== */
.btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.625rem 1rem;
    background-color: #3b82f6;
    color: white;
    font-weight: 500;
    border-radius: 0.5rem;
    transition: background-color 0.2s;
    text-decoration: none;
    border: none;
    cursor: pointer;
}

.btn-primary:hover {
    background-color: #2563eb;
    color: white;
}

.btn-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.625rem 1rem;
    background-color: #e2e8f0;
    color: #1e293b;
    font-weight: 500;
    border-radius: 0.5rem;
    transition: all 0.2s;
    text-decoration: none;
    border: none;
    cursor: pointer;
}

.btn-secondary:hover {
    background-color: #cbd5e1;
    color: #0f172a;
}

/* Dark Mode Buttons */
html.dark .btn-secondary {
    background-color: #334155;
    color: #f8fafc;
}

html.dark .btn-secondary:hover {
    background-color: #475569;
}

/* CYAN Button Variant */
.btn-cyan {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.625rem 1rem;
    background-color: #06b6d4;
    /* cyan-500 */
    color: white;
    font-weight: 500;
    border-radius: 0.5rem;
    transition: background-color 0.2s;
    text-decoration: none;
    border: none;
    cursor: pointer;
}

.btn-cyan:hover {
    background-color: #0891b2;
    /* cyan-600 */
    color: white;
}

/* Button Icon Spacing */
.btn-primary i,
.btn-secondary i,
.btn-cyan i {
    margin-right: 0.5rem;
}

/* ==============================================================================
   UTILITIES
   ============================================================================== */
.w-full {
    width: 100%;
}

/* Flexbox Utilities (Robust) */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.items-center {
    align-items: center;
}

.gap-2 {
    gap: 0.5rem;
}

.gap-3 {
    gap: 0.75rem;
}

.gap-4 {
    gap: 1rem;
}

/* Spacing */
.mr-2 {
    margin-right: 0.5rem;
}

.mb-2 {
    margin-bottom: 0.5rem;
}

.mb-4 {
    margin-bottom: 1rem;
    /* Added mb-4 for extra safety */
}

.text-center {
    text-align: center;
}

/* Text Colors */
.text-green {
    color: #22c55e;
}

.text-green-500 {
    color: #22c55e;
}

.text-red {
    color: #ef4444;
}

.text-red-500 {
    color: #ef4444;
}

.text-blue-500 {
    color: #3b82f6;
}

.text-blue-600 {
    color: #2563eb;
}

.text-gray {
    color: #64748b;
}

.text-dark {
    color: #1e293b;
}

.text-white {
    color: #ffffff;
}

/* Badge Color Variants */
.bg-green-100 {
    background-color: #dcfce7;
}

.text-green-600 {
    color: #16a34a;
}

.border-green-200 {
    border: 1px solid #bbf7d0;
}

.bg-yellow-100 {
    background-color: #fef9c3;
}

.text-yellow-600 {
    color: #ca8a04;
}

.border-yellow-200 {
    border: 1px solid #fde047;
}

.bg-red-100 {
    background-color: #fee2e2;
}

.text-red-600 {
    color: #dc2626;
}

.border-red-200 {
    border: 1px solid #fecaca;
}

.bg-blue-50 {
    background-color: #eff6ff;
}

.text-blue-600 {
    color: #2563eb;
}

.bg-indigo-100 {
    background-color: #e0e7ff;
}

.text-indigo-600 {
    color: #4f46e5;
}

/* ==============================================================================
   COMPATIBILITY LAYER: FLEX, TEXT, BORDERS, SPACING
   ============================================================================== */

/* FLEX UTILS */
.flex-col {
    flex-direction: column;
}

.items-start {
    align-items: flex-start;
}

.items-end {
    align-items: flex-end;
}

.justify-start {
    justify-content: flex-start;
}

.justify-between {
    justify-content: space-between;
}

.flex-1 {
    flex: 1 1 0%;
}

/* TEXT UTILS */
.text-left {
    text-align: left;
}

.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.uppercase {
    text-transform: uppercase;
}

.capitalize {
    text-transform: capitalize;
}

.line-through {
    text-decoration: line-through;
}

.leading-relaxed {
    line-height: 1.625;
}

.leading-tight {
    line-height: 1.25;
}

.tracking-wide {
    letter-spacing: 0.025em;
}

.tracking-wider {
    letter-spacing: 0.05em;
}

.font-mono {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

/* SIZING */
.w-full {
    width: 100%;
}

.h-full {
    height: 100%;
}

.max-w-sm {
    max-width: 24rem;
}

.max-w-md {
    max-width: 28rem;
}

.max-w-lg {
    max-width: 32rem;
}

.max-w-xl {
    max-width: 36rem;
}

.max-w-2xl {
    max-width: 42rem;
}

.max-w-4xl {
    max-width: 56rem;
}

.w-6 {
    width: 1.5rem;
}

.h-6 {
    height: 1.5rem;
}

.w-8 {
    width: 2rem;
}

.h-8 {
    height: 2rem;
}

.w-10 {
    width: 2.5rem;
}

.h-10 {
    height: 2.5rem;
}

/* BORDERS */
.border-2 {
    border-width: 2px;
}

.border-l-4 {
    border-left-width: 4px;
}

.border-b-2 {
    border-bottom-width: 2px;
}

.border-transparent {
    border-color: transparent;
}

.border-gray-200 {
    border-color: #e5e7eb;
}

.rounded-sm {
    border-radius: 0.125rem;
}

.rounded-md {
    border-radius: 0.375rem;
}

.rounded-lg {
    border-radius: 0.5rem;
}

.rounded-full {
    border-radius: 9999px;
}

/* EFFECTS */
.shadow-md {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.shadow-lg {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.opacity-50 {
    opacity: 0.5;
}

.opacity-75 {
    opacity: 0.75;
}

/* POSITIONING */
.absolute {
    position: absolute;
}

.relative {
    position: relative;
}

.top-0 {
    top: 0px;
}

.left-0 {
    left: 0px;
}

.bottom-0 {
    bottom: 0px;
}

/* SPACING GAP */
.gap-1 {
    gap: 0.25rem;
}

.gap-3 {
    gap: 0.75rem;
}

/* COLORS BACKGROUNDS */
.bg-white {
    background-color: #ffffff;
}

.bg-indigo-100 {
    background-color: #e0e7ff;
}

.bg-orange-100 {
    background-color: #ffedd5;
}

.bg-purple-100 {
    background-color: #f3e8ff;
}

.bg-purple-500 {
    background-color: #a855f7;
}

/* DARK MODE UTILS */
html.dark .bg-slate-800 {
    background-color: #1e293b;
}

html.dark .border-gray-700 {
    border-color: #374151;
}

html.dark .divide-gray-700> :not([hidden])~ :not([hidden]) {
    border-color: #374151;
}

/* DARK MODE COMPATIBILITY OVERRIDES */
html.dark .bg-white {
    background-color: #1e293b;
}

html.dark .bg-gray-50 {
    background-color: #0f172a;
}

html.dark .bg-gray-100 {
    background-color: #334155;
}

html.dark .bg-gray-200 {
    background-color: #475569;
}

/* Dark Mode Badges - Use semi-transparent backgrounds for glowing effect */
html.dark .bg-green-100 {
    background-color: rgba(34, 197, 94, 0.2);
    color: #4ade80;
    border: 1px solid rgba(34, 197, 94, 0.3);
}

html.dark .text-green-600,
html.dark .text-green-700 {
    color: #4ade80;
}

html.dark .bg-blue-100 {
    background-color: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
    border: 1px solid rgba(59, 130, 246, 0.3);
}

html.dark .text-blue-600,
html.dark .text-blue-700 {
    color: #60a5fa;
}

html.dark .bg-blue-50 {
    background-color: rgba(59, 130, 246, 0.1);
}

html.dark .bg-yellow-100 {
    background-color: rgba(234, 179, 8, 0.2);
    color: #facc15;
    border: 1px solid rgba(234, 179, 8, 0.3);
}

html.dark .text-yellow-600,
html.dark .text-yellow-700 {
    color: #facc15;
}

html.dark .bg-red-100 {
    background-color: rgba(239, 68, 68, 0.2);
    color: #f87171;
    border: 1px solid rgba(239, 68, 68, 0.3);
}

html.dark .text-red-600,
html.dark .text-red-700 {
    color: #f87171;
}

html.dark .bg-red-50 {
    background-color: rgba(239, 68, 68, 0.1);
}

html.dark .bg-purple-100 {
    background-color: rgba(168, 85, 247, 0.2);
    color: #c084fc;
    border: 1px solid rgba(168, 85, 247, 0.3);
}

html.dark .bg-indigo-100 {
    background-color: rgba(99, 102, 241, 0.2);
    color: #818cf8;
}

html.dark .border-gray-200 {
    border-color: #334155;
}

html.dark .text-dark {
    color: #f1f5f9;
}

/* Table Dark Alignment */
html.dark .platform-table th {
    color: #94a3b8;
    border-bottom: 1px solid #334155;
}

html.dark .platform-table td {
    border-bottom: 1px solid #1e293b;
    color: #cbd5e1;
}

html.dark .platform-table tr:hover td {
    background-color: #1e293b;
}

/* ==============================================================================
   MISSING BADGE DEFINITIONS
   ============================================================================== */

/* Base Badge */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    line-height: 1;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    white-space: nowrap;
    transition: all 0.2s;
}

/* Badge Default (Gray/Neutral) */
.badge-default {
    background-color: #f1f5f9;
    color: #64748b;
    border: 1px solid #e2e8f0;
}

html.dark .badge-default {
    background-color: rgba(148, 163, 184, 0.1);
    color: #94a3b8;
    border: 1px solid #334155;
}

/* Badge Hover State */
.badge-default:hover {
    background-color: #e2e8f0;
}

html.dark .badge-default:hover {
    background-color: rgba(148, 163, 184, 0.2);
    color: #cbd5e1;
}

/* ==============================================================================
   ERP DASHBOARD STAT CARDS
   ============================================================================== */
.erp-stat-card {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 1.5rem;
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 0.75rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    transition: all 0.2s;
    height: 100%;
}

.erp-stat-card:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.erp-stat-card .stat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}

.erp-stat-card .stat-icon-wrapper {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.erp-stat-card .stat-icon-box {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    border-radius: 0.5rem;
    font-size: 1.25rem;
}

.erp-stat-card .stat-value {
    font-size: 1.875rem;
    font-weight: 700;
    color: var(--text-primary);
}

.erp-stat-card .stat-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.25rem;
    display: block;
}

.erp-stat-card .stat-subtext {
    font-size: 0.75rem;
    font-weight: 500;
}

/* Color Variants */
.card-blue .stat-icon-box {
    background-color: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
}

.card-blue:hover {
    border-color: rgba(59, 130, 246, 0.3);
}

.card-blue .stat-subtext {
    color: #22c55e;
}

.card-purple .stat-icon-box {
    background-color: rgba(168, 85, 247, 0.1);
    color: #a855f7;
}

.card-purple:hover {
    border-color: rgba(168, 85, 247, 0.3);
}

.card-purple .stat-subtext {
    color: #ef4444;
}

.card-orange .stat-icon-box {
    background-color: rgba(249, 115, 22, 0.1);
    color: #f97316;
}

.card-orange:hover {
    border-color: rgba(249, 115, 22, 0.3);
}

.card-orange .stat-subtext {
    color: #9ca3af;
}

.card-green .stat-icon-box {
    background-color: rgba(34, 197, 94, 0.1);
    color: #22c55e;
}

.card-green:hover {
    border-color: rgba(34, 197, 94, 0.3);
}

.card-green .stat-subtext {
    color: #22c55e;
}

/* ==============================================================================
   DARK MODE REFINEMENTS
   ============================================================================== */
.erp-status-row {
    background-color: #f8fafc;
    /* slate-50 */
    border: 1px solid transparent;
    transition: all 0.2s;
}

html.dark .erp-status-row {
    background-color: #334155;
    /* slate-700 */
    border: 1px solid rgba(255, 255, 255, 0.1);
}

html.dark .text-muted-contrast {
    color: #94a3b8 !important;
    /* slate-400 */
}

/* Ensure Stat Cards pop correctly in dark mode */
html.dark .erp-stat-card {
    background-color: #1e293b;
    /* slate-800 */
    border-color: #334155;
    /* slate-700 */
}

html.dark .erp-stat-card:hover {
    border-color: #475569;
    /* slate-600 */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

html.dark .erp-card-title {
    color: #ffffff !important;
}

/* ==============================================================================
   REFACTOR UTILITIES (Added 2025-12-30)
   ============================================================================== */

/* Sidebar & Navigation */
.sidebar-nav {
    flex: 1;
}

.sidebar-footer {
    margin-top: auto;
    padding: 0;
}

.sidebar-avatar-wrapper {
    width: 38px;
    height: 38px;
    background: linear-gradient(135deg, #6366f1 0%, #4338ca 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 14px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.1);
    overflow: hidden;
}

.sidebar-img-cover {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.sidebar-img-cover-rounded {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}

.sidebar-user-text {
    color: white;
    font-weight: 600;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.sidebar-user-subtext {
    color: rgba(255, 255, 255, 0.5);
    font-size: 11px;
}

.sidebar-chevron {
    color: rgba(255, 255, 255, 0.5);
    font-size: 12px;
}

.sidebar-footer-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    color: rgba(255, 255, 255, 0.7);
    text-decoration: none;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.sidebar-footer-link:hover {
    background: rgba(255, 255, 255, 0.05);
    color: white;
}

/* User Menu & Dropdowns */
.flex-center-gap {
    display: flex;
    align-items: center;
    gap: 8px;
    /* Default gap */
}

.menu-item-flex {
    display: flex;
    align-items: center;
}

.cursor-pointer {
    cursor: pointer;
}

.position-relative {
    position: relative;
}

.chevron-right-muted {
    font-size: 12px;
    color: #cbd5e1;
}

/* 403 Page Utilities */
.page-center-container {
    height: 80vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.lock-icon-wrapper {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.lock-icon {
    font-size: 32px;
}

.text-max-w-400 {
    max-width: 400px;
}

/* Project/Task List Badges - Extracted from inline styles */
.badge-medium {
    background-color: #fefce8 !important;
    /* yellow-50 */
    color: #ca8a04 !important;
    /* yellow-600 */
    border: 1px solid #fef08a !important;
    /* yellow-200 */
}

.badge-high {
    background-color: #fef2f2 !important;
    /* red-50 */
    color: #dc2626 !important;
    /* red-600 */
    border: 1px solid #fecaca !important;
    /* red-200 */
}

.badge-active-filter {
    background: #f1f5f9;
    color: #64748b;
    text-decoration: none;
}

.search-input-wide {
    padding-left: 35px;
    width: 250px;
}

.table-link-plain {
    color: inherit;
    text-decoration: none;
}

/* Progress Bars */
.progress-bar-bg {
    height: 0.5rem;
    /* h-2 */
    border-radius: 9999px;
    /* rounded-full */
    overflow: hidden;
}

.progress-bar-fill-blue {
    background-color: #2563eb;
    /* blue-600 */
    height: 100%;
    border-radius: 9999px;
}

.progress-bar-gradient {
    background: linear-gradient(to right, #4ade80, #3b82f6);
    /* green-400 to blue-500 */
}

/* Project Layout Utilities */
.card-left-border-primary {
    border-left: 4px solid var(--primary-color);
}

.layout-grid-2-1 {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 24px;
}

.flex-col-gap-24 {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

/* 403 Error Page */
.error-page-container {
    height: 80vh;
    flex-direction: column;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
}

.error-icon-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    margin-bottom: 24px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.error-icon-size {
    font-size: 32px;
}

.error-text-width {
    max-width: 400px;
}

/* Topbar Partials */
.sidebar-toggle-btn {
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 8px;
    margin-right: 15px;
    border-radius: 8px;
    transition: background 0.2s;
}

.header-platform-label {
    margin-right: auto;
    font-family: 'Oswald', sans-serif;
    font-size: 20px;
    font-weight: 500;
    color: var(--text-primary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
}

.header-right-tools {
    display: flex;
    align-items: center;
    gap: 15px;
}

.theme-toggle-btn {
    background: transparent;
    border: 1px solid #e5e7eb;
    padding: 6px 10px;
    border-radius: 8px;
    cursor: pointer;
    color: #64748b;
}

/* ==============================================================================
   PREMIUM STAT CARDS
   ============================================================================== */
.erp-stat-card {
    background: var(--bg-card);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 1.5rem;
    position: relative;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 140px;
}

.erp-stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border-color: currentColor;
}

.erp-stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: currentColor;
    opacity: 0.8;
}

/* Card Colors */
.card-blue {
    color: #3b82f6;
}

.card-purple {
    color: #a855f7;
}

.card-orange {
    color: #f97316;
}

.card-green {
    color: #22c55e;
}

.card-red {
    color: #ef4444;
}

.stat-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.stat-icon-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.stat-icon-box {
    width: 48px;
    height: 48px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    background: rgba(0, 0, 0, 0.03);
    color: inherit;
    margin-bottom: 0.5rem;
}

html.dark .stat-icon-box {
    background: rgba(255, 255, 255, 0.05);
}

.stat-value {
    font-size: 2.25rem;
    font-weight: 800;
    color: var(--text-primary);
    line-height: 1;
    font-family: 'Inter', sans-serif;
}

.stat-label {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    display: block;
    margin-bottom: 0.25rem;
}

.stat-subtext {
    font-size: 0.75rem;
    color: currentColor;
    font-weight: 600;
    opacity: 0.9;
}

/* Neutral high-contrast badge for Staff */
.badge-neutral {
    background-color: rgba(255, 255, 255, 0.1);
    color: #f1f5f9;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

html.dark .badge-neutral {
    background-color: rgba(255, 255, 255, 0.15);
    color: #ffffff;
    border-color: rgba(255, 255, 255, 0.3);
}

/* Default Badge (Gray/Slate) */
.badge-default {
    background-color: #f1f5f9;
    color: #475569;
    border: 1px solid #cbd5e1;
}

html.dark .badge-default {
    background-color: rgba(148, 163, 184, 0.1);
    color: #cbd5e1;
    border-color: rgba(148, 163, 184, 0.2);
}

/* Sematic Badge Variants (Refactor Target) */
.badge-success {
    background-color: #dcfce7;
    color: #16a34a;
    border: 1px solid #bbf7d0;
}

html.dark .badge-success {
    background-color: rgba(34, 197, 94, 0.15);
    color: #4ade80;
    border-color: rgba(34, 197, 94, 0.3);
}

.badge-warning {
    background-color: #fef9c3;
    color: #ca8a04;
    border: 1px solid #fde047;
}

html.dark .badge-warning {
    background-color: rgba(250, 204, 21, 0.15);
    color: #facc15;
    border-color: rgba(250, 204, 21, 0.3);
}

.badge-danger,
.badge-critical {
    background-color: #fee2e2;
    color: #dc2626;
    border: 1px solid #fecaca;
}

html.dark .badge-danger,
html.dark .badge-critical {
    background-color: rgba(248, 113, 113, 0.15);
    color: #f87171;
    border-color: rgba(248, 113, 113, 0.3);
}

.badge-info,
.badge-medium {
    background-color: #eff6ff;
    color: #2563eb;
    border: 1px solid #dbeafe;
}

html.dark .badge-info,
html.dark .badge-medium {
    background-color: rgba(96, 165, 250, 0.15);
    color: #60a5fa;
    border-color: rgba(96, 165, 250, 0.3);
}

.badge-primary {
    background-color: #e0e7ff;
    color: #4f46e5;
    border: 1px solid #c7d2fe;
}

html.dark .badge-primary {
    background-color: rgba(129, 140, 248, 0.15);
    color: #818cf8;
    border-color: rgba(129, 140, 248, 0.3);
}

/* Renamed to break cache */
.badge-priority-high {
    background-color: #ffedd5;
    color: #ea580c;
    border: 1px solid #fed7aa;
}

html.dark .badge-priority-high {
    background-color: rgba(251, 146, 60, 0.15);
    color: #fdba74;
    border-color: rgba(251, 146, 60, 0.3);
}

/* Client & Office Badges */
.badge-employee {
    background-color: #f3e8ff;
    color: #9333ea;
    border: 1px solid #e9d5ff;
}

html.dark .badge-employee {
    background-color: rgba(192, 132, 252, 0.15);
    color: #d8b4fe;
    border-color: rgba(192, 132, 252, 0.3);
}

.badge-client {
    background-color: #ffedd5;
    color: #ea580c;
    border: 1px solid #fed7aa;
}

html.dark .badge-client {
    background-color: rgba(251, 146, 60, 0.15);
    color: #fdba74;
    border-color: rgba(251, 146, 60, 0.3);
}

.badge-office {
    background-color: #ccfbf1;
    color: #0d9488;
    border: 1px solid #99f6e4;
}

html.dark .badge-office {
    background-color: rgba(45, 212, 191, 0.15);
    color: #5eead4;
    border-color: rgba(45, 212, 191, 0.3);
}

.badge-purple {
    background-color: #f3e8ff;
    color: #9333ea;
    border: 1px solid #d8b4fe;
}

html.dark .badge-purple {
    background-color: rgba(147, 51, 234, 0.15);
    color: #d8b4fe;
    border-color: rgba(147, 51, 234, 0.3);
}

/* Icon Size Utilities */
.icon-sm {
    font-size: 10px !important;
}

.icon-md {
    font-size: 14px !important;
}

.icon-lg {
    font-size: 20px !important;
}

.icon-xl {
    font-size: 24px !important;
}

/* Global Dark Mode Fixes */
html.dark .card {
    background-color: #1e293b;
    border-color: #334155;
    color: #f1f5f9;
}

html.dark .dashboard-home {
    background-color: #0f172a;
    /* Ensure simplified output matches other dark bg */
}